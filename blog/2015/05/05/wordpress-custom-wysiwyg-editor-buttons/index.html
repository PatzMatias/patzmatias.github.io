
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Wordpress Custom WYSIWYG Editor Buttons - Patrick A. Matias</title>
  <meta name="author" content="Patrick A. Matias">

  
  <meta name="description" content="Patrick A. Matias Blog Wordpress Custom WYSIWYG Editor Buttons written May 5th, 2015 This is a continuation of the post about Wordpress Shortcodes &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://PatzMatias.github.io/blog/2015/05/05/wordpress-custom-wysiwyg-editor-buttons">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Patrick A. Matias" type="application/atom+xml">
  <!--FONTS-->
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
  <!--FONTS-->
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="/javascripts/jquery-ui-1.10.4.custom.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  

</head>

  <body id="top">
  	<div class="preloader1"></div>
  	<div class="nav-icons"> 
	  	<div class="showslide" title="Menu">
			<p><i class="fa fa-bars"></i></p>
		</div>
		<div class="home-icon" title="Home">
		  	<a href="/">
		      <img src="/images/home.png"/>
		    </a>
		</div>
		<div class="blog" title="Blog">
		  	<a href="/#blog">
		      <p><i class="fa fa-edit"></i></p>
		    </a>
		</div>
	</div>
    <div class="back-to-top hidden-xs" data-0="opacity: 0;" data-1000="opacity: 1;">
    	<a href="#top"><i class="fa fa-chevron-up"></i></a>
    </div>
	<div id="slide">
	  <aside class="sidebar">
	    
	      <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/05/24/how-to-add-a-custom-ajax-url-to-woocommerce-ajax-urls/">How to Add a Custom AJAX URL to WooCommerce AJAX URLs</a>
        <p class="date">2016-05-24 16:11:00 +0800</p>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/10/making-angularjs-and-wordpress-work-together/">Making AngularJS and Wordpress Work Together</a>
        <p class="date">2015-06-10 22:17:56 +0800</p>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/02/learning-ruby-and-rails/">Learning Ruby and Rails</a>
        <p class="date">2015-06-02 18:01:23 +0800</p>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos
  
  <a href="https://github.com/PatzMatias">@PatzMatias</a>
  
  </h1>
  <ul id="gh_repos">
    <li class="loading"><span>Status updating</span> &nbsp;<i class="fa fa-spinner fa-spin"></i></li>
  </ul>
</section>



<section class="googleplus">
  <h1>Social</h1>
  <ul>
  	<li>
	  	<i class="fa fa-google-plus-square"></i>
	    <a class="social-links" href="https://plus.google.com/117521965885043360258?rel=author">
	      @PatzMatias
	    </a>
	</li>
	<li>
		<i class="fa fa-facebook-square"></i>
		<a class="social-links" href="https://www.facebook.com/patrick.matias">
		fb.com/patrick.matias
	 	</a>
	</li>
 </ul>
</section>



	    
	  </aside>
	</div>
    <div class="post-header" id="post-header">
    <div class="container-fluid">
       <div class="row">
        <div class="col-md-6 col-md-offset-3">
          <h3 class="title">Patrick A. Matias</h3>
          <div class="subtitle">Blog</div>
        </div>
     </div>
    </div>
</div>
  

</div>
<article role="article" class="full-single-article">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6 col-md-offset-3 paper">
        <h1>Wordpress Custom WYSIWYG Editor Buttons</h1>
        <div class="meta">
          written 








  



<time datetime="2015-05-05T13:16:57+08:00" pubdate data-updated="true">May 5<span>th</span>, 2015</time>
          


        </div>
        <p>This is a continuation of the post about <strong><a href="http://patzmatias.github.io/blog/2015/05/01/wordpress-shortcodes/">Wordpress Shortcodes</a></strong> and this time we&rsquo;re going to add a button for the shortcode and other purposes like a set of html tags, or a preformatted text.</p>

<!--more-->


<ol>
<li><p>First, we create a script file that contains the label, an optional custom icon and the button functionality that adds the content. Store this file in your theme folder.</p>

<pre><code> (function() {
     tinymce.PluginManager.add('my_shortcode_button', function( editor, url ) {
         editor.addButton('my_shortcode_button', {
             text: 'My Label',//custom label
             icon: false, //use a custom icon or not
             onclick: function() { // the content to be inserted when the button is clicked.
                 editor.insertContent('[custom_shortcode_name title=&amp;quot;&amp;quot; class=&amp;quot;&amp;quot;][/custom_shortcode');
             }
         });
     });
 })();
</code></pre></li>
<li><p>And the last step is adding the shortcode to Wordpress backend.</p>

<pre><code> // Hook functions into the correct filters
 function my_shortcode_button() {
     // check user permissions
     if ( !current_user_can( 'edit_posts' ) &amp;&amp; !current_user_can( 'edit_pages' ) ) {
         return;
     }
     // check if WYSIWYG is enabled
     if ( 'true' == get_user_option( 'rich_editing' ) ) {
         add_filter( 'mce_external_plugins', 'my_shortcode_plugin' );
         add_filter( 'mce_buttons', 'register_shortcode_button' );
     }
 }
 add_action('admin_head', 'my_add_mce_button');

 // Add the script we created earlier for the new button
 function my_shortcode_plugin( $plugin_array ) {
     $plugin_array['my_shortcode_button'] = get_template_directory_uri() .'/js/my_shortcode_plugin.js';
     return $plugin_array;
 }

 // Register the button into the editor
 function register_shortcode_button( $buttons ) {
     array_push( $buttons, 'my_mce_button' );
     return $buttons;
 }
</code></pre></li>
</ol>


<p>That is all we need to add a simple button for the shortcode. If the button gets click it will add the shortcode to the editor together with its attributes and the user can now just start adding the contents between the shortcode tags.</p>

<p>If you want to learn more about button you can checkout these resources:</p>

<ul>
<li><a href="http://www.wpexplorer.com/wordpress-tinymce-tweaks/">WordPress 3.9+ TinyMCE 4 Tweaks: Adding Styles, Buttons, Fonts, Drop-downs &amp; Pop-Ups</a></li>
<li><a href="http://www.1stwebdesigner.com/wordpress-tinymce-editor/">Twist That Code: How to Add Custom Buttons for WordPress TinyMCE Editor</a></li>
<li><a href="https://codex.wordpress.org/TinyMCE_Custom_Buttons">Wordpress Codex: TinyMCE Custom Buttons</a></li>
</ul>


<p>Thanks for reading! :)</p>

      </div>
    </div>
  </div>
</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        
          <a class="pull-left" href="/blog/2015/05/01/wordpress-shortcodes/" title="Previous Post: Wordpress Shortcodes">&laquo; Previous: Wordpress Shortcodes</a>
        

        
          <a class="pull-right" href="/blog/2015/06/02/learning-ruby-and-rails/" title="Next Post: Learning Ruby and Rails">Next: Learning Ruby and Rails &raquo;</a>
        
      </div>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a class="footer-text" href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    

    
    <a href="https://github.com/PatzMatias"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    
    <a title="Google+" href="117521965885043360258"><img src="/images/glyphicons_social_02_google_plus.png"/></a>

    
    <a title="Facebook" href="https://facebook.com/patrick.matias"><img src="/images/glyphicons_social_30_facebook.png"/></a>

    
    <a href="mailto:patzmatias@gmail.com"><img src="/images/glyphicons_social_39_e-mail.png"/></a>
    
  </div>
</div>

<div class="pull-right">
  <h4 class="footer-text">Powered by <a href="http://octopress.org/">Octopress</a>
</div>


     	 <script src="/javascripts/main.js"></script>
     	 <script src="/javascripts/github.js" type="text/javascript"> </script>
      	 <script src="/javascripts/SmoothScroll.js"></script>
         <script src="/javascripts/skrollr.min.js"></script>
         <script type="text/javascript">
          var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
          var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          console.log(w);

          if(w>640)
  	    	  var s = skrollr.init({forceHeight: false});
          

		    </script>
         <script type="text/javascript">
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = '/javascripts/libs/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'PatzMatias',
              count: 3,
              skip_forks: true,
              target: '#gh_repos'
          });
    </script>
    </div>
  </div>
</footer>

  </body>
</html>
